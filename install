#!/bin/bash

# Install xcode command line tools
xcode-select --install

# Install homebrew
if [ ! -d "/opt/homebrew" ]; then
  /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
fi

# Install brew packages
/opt/homebrew/bin/brew install git
/opt/homebrew/bin/brew install zsh
/opt/homebrew/bin/brew install zsh-completions
/opt/homebrew/bin/brew install zsh-syntax-highlighting
/opt/homebrew/bin/brew install zsh-autosuggestions
/opt/homebrew/bin/brew install go
/opt/homebrew/bin/brew install bruno

# Install brew cask packages
/opt/homebrew/bin/brew install --cask iterm2
/opt/homebrew/bin/brew install --cask arc
/opt/homebrew/bin/brew install --cask spotify
/opt/homebrew/bin/brew install --cask visual-studio-code
/opt/homebrew/bin/brew install --cask notion
/opt/homebrew/bin/brew install --cask slack
/opt/homebrew/bin/brew install --cask alt-tab
/opt/homebrew/bin/brew install --cask bambu-studio
/opt/homebrew/bin/brew install --cask raycast

# Configure desktop/term
# install fonts
/opt/homebrew/bin/brew tap homebrew/cask-fonts
/opt/homebrew/bin/brew install homebrew/cask-fonts/font-hack-nerd-font

# configure zsh
stow zsh

# install sketchybar
/opt/homebrew/bin/brew tap FelixKratz/formulae
/opt/homebrew/bin/brew install sketchybar
stow sketchybar

# install yabai
/opt/homebrew/bin/brew install koekeishiya/formulae/yabai
yabai --load-sa
yabai --install-service
yabai --start-service
stow yabai

# install skhd
/opt/homebrew/bin/brew install koekeishiya/formulae/skhd
skhd --install-service
skhd --start-service
